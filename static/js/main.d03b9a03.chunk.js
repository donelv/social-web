(this["webpackJsonpit-react-k-1"]=this["webpackJsonpit-react-k-1"]||[]).push([[0],{11:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk"}},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var A=n(40),r=n(3),i="SEND-MESSAGE",s={dialogs:[{id:1,name:"John"},{id:2,name:"Ernest"},{id:3,name:"Calvin"},{id:4,name:"Martin"},{id:5,name:"Franklin"},{id:6,name:"Michael"}],messages:[{id:1,message:"Hi"},{id:2,message:"Hello"},{id:3,message:"How are you?"},{id:4,message:"Im okay, are you?"},{id:5,message:"Goood"},{id:6,message:"Nice"}]},a=function(e){return{type:i,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return t.type===i?Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(A.a)(e.messages),[{id:7,message:t.newMessageBody}])}):e}},134:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1_En6",selectedPage:"users_selectedPage__1mnwI"}},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var A=n(132),r=A.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b57e6faf-4029-4cd4-a333-c7c9fffe7c63"}}),i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){console.warn("Obsolete method. Please use profileAPI object."),a.getProfile(e)}},s={me:function(){return r.get("auth/me").then((function(e){return e.data}))},getProfilePhoto:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){return e.data}))}},a={getProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})}}},168:function(e,t,n){},169:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var A=n(0),r=n.n(A),i=n(64),s=n.n(i),a=(n(168),n(32)),c=n(33),o=n(36),u=n(35),l=(n(169),n(12)),d=n(90),j=n.n(d),b=n(1),f=function(e){var t=e.friendList.map((function(e){return Object(b.jsxs)("div",{className:j.a.friendItem,children:[Object(b.jsx)("img",{src:e.img}),Object(b.jsx)("div",{children:e.name})]},e.id)}));return Object(b.jsxs)("div",{children:["Friends",Object(b.jsx)("div",{className:j.a.friendList,children:t})]})},h=n(11),g=n.n(h),p=function(e){return Object(b.jsxs)("nav",{className:g.a.nav,children:[Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(l.b,{to:"/profile",activeClassName:g.a.active,children:"Profile"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(l.b,{to:"/dialogs",activeClassName:g.a.active,children:"Dialogs"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(l.b,{to:"/news",activeClassName:g.a.active,children:"News"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(l.b,{to:"/music",activeClassName:g.a.active,children:"Music"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(l.b,{to:"/settings",activeClassName:g.a.active,children:"Settings"})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)("div",{className:g.a.friends,children:Object(b.jsx)(l.b,{to:"/friends",activeClassName:g.a.active,children:Object(b.jsx)(f,{friendList:e.friendList})})})}),Object(b.jsx)("div",{className:g.a.item,children:Object(b.jsx)(l.b,{to:"/users",activeClassName:g.a.active,children:"Users"})})]})},O=function(){return Object(b.jsx)("div",{children:"News"})},z=function(){return Object(b.jsx)("div",{children:"Music"})},x=function(){return Object(b.jsx)("div",{children:"Settings"})},m=n(15),v=n(9),w=n(24),P=n.n(w),C=n(41),B=n(40),S=n(3),E=n(14),y=function(e,t,n,A){return e.map((function(e){return e[n]===t?Object(S.a)(Object(S.a)({},e),A):e}))},Q="FOLLOW",D="UNFOLLOW",I="SET_USERS",N="SET_CURRENT_PAGE",k="SET_TOTAL_USERS",R="TOGGLE_IS_FETCHING",H="TOGGLE_IS_FOLLOWING_PROGRESS",F={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},T=function(e){return{type:Q,userId:e}},M=function(e){return{type:D,userId:e}},V=function(e){return{type:R,isFetching:e}},U=function(e,t){return{type:H,isFetching:e,userId:t}},L=function(){var e=Object(C.a)(P.a.mark((function e(t,n,A,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(U(!0,t)),e.next=3,A(t);case 3:0===e.sent.resultCode&&n(r(t)),n(U(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,A,r){return e.apply(this,arguments)}}(),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(S.a)(Object(S.a)({},e),{},{users:y(e.users,t.userId,"id",{followed:!0})});case D:return Object(S.a)(Object(S.a)({},e),{},{users:y(e.users,t.userId,"id",{followed:!1})});case I:return Object(S.a)(Object(S.a)({},e),{},{users:t.users});case N:return Object(S.a)(Object(S.a)({},e),{},{currentPage:t.currentPage});case k:return Object(S.a)(Object(S.a)({},e),{},{totalUsersCount:t.totalUsersCount});case R:return Object(S.a)(Object(S.a)({},e),{},{isFetching:t.isFetching});case H:return Object(S.a)(Object(S.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(B.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}},Y=n(138),q=Object(Y.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Z=function(e){return e.usersPage.pageSize},G=function(e){return e.usersPage.totalUsersCount},W=function(e){return e.usersPage.currentPage},X=function(e){return e.usersPage.isFetching},_=function(e){return e.usersPage.followingInProgress},K=n(67),$=n(53),ee=n(69),te=n(128),ne=n(71),Ae=n.n(ne),re=n(133),ie=n.n(re),se=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);var i=Math.ceil(t/e.portionSize),s=Object(A.useState)(1),a=Object(te.a)(s,2),c=a[0],o=a[1],u=(c-1)*e.portionSize+1,l=c*e.portionSize;return Object(b.jsxs)("div",{className:Ae.a.paginator,children:[c>1&&Object(b.jsx)("button",{onClick:function(){o(c-1)},children:"Prev"}),Object(b.jsx)("div",{children:n.filter((function(e){return e>=u&&e<=l})).map((function(t){return Object(b.jsx)("span",{className:ie()(Object(ee.a)({},Ae.a.selectedPage,e.currentPage===t),Ae.a.pageNumber),onClick:function(n){e.onPageChanged(t)},children:t})}))}),Object(b.jsx)("div",{children:c<i&&Object(b.jsx)("button",{onClick:function(){o(c+1)},children:"Next"})})]})},ae=n(134),ce=n.n(ae),oe=function(e){var t=e.user,n=e.followingInProgress,A=e.unfollow,r=e.follow;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(l.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:"data:image/jpeg;base64,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",className:ce.a.userPhoto})})}),Object(b.jsx)("div",{children:t.followed?Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){A(t.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:t.name}),Object(b.jsx)("div",{children:t.status})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"user.location.country"}),Object(b.jsx)("div",{children:"user.location.city"})]})]})]})},ue=["currentPage","onPageChanged","totalUsersCount","pageSize"],le=function(e){var t=e.currentPage,n=e.onPageChanged,A=e.totalUsersCount,r=e.pageSize,i=Object($.a)(e,ue);return Object(b.jsxs)("div",{children:[Object(b.jsx)(se,{currentPage:t,onPageChanged:n,totalItemsCount:A,pageSize:r,portionSize:10}),i.users.map((function(e){return Object(b.jsx)(oe,{user:e,followingInProgress:i.followingInProgress,unfollow:i.unfollow,follow:i.follow},e.id)}))]})},de=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(a.a)(this,n);for(var A=arguments.length,r=new Array(A),i=0;i<A;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.setCurrentPage(t),e.props.requestUsers(t,n)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(K.a,{}):null,Object(b.jsx)(le,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,unfollow:this.props.unfollow,follow:this.props.follow,users:this.props.users,followingInProgress:this.props.followingInProgress})]})}}]),n}(r.a.Component),je=Object(m.b)((function(e){return{users:q(e),pageSize:Z(e),totalUsersCount:G(e),currentPage:W(e),isFetching:X(e),followingInProgress:_(e)}}),{follow:function(e){return function(){var t=Object(C.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(e,n,E.c.follow.bind(E.c),T);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(C.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(e,n,E.c.unfollow.bind(E.c),M);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:N,currentPage:e}},toggleFollowingInProgress:U,requestUsers:function(e,t){return function(n){n(V(!0)),E.c.getUsers(e,t).then((function(e){var t,A;n(V(!1)),n((t=e.items,{type:I,users:t})),n((A=e.totalCount,{type:k,totalUsersCount:A}))}))}}})(de),be=n(92),fe=n.n(be),he=function(e){return Object(b.jsxs)("header",{className:fe.a.header,children:[Object(b.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2021/10/MTV-Logo.png",width:"100px"}),Object(b.jsx)("div",{className:fe.a.loginBlock,children:e.isAuth?Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:e.photo,width:"50px"})," ",e.login,e.id,Object(b.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(b.jsx)(l.b,{to:"/login",children:"Login"})})]})},ge=n(42),pe="SET_USER_DATA",Oe="TOGGLE_IS_FETCHING",ze="SET_PHOTO",xe={id:null,email:null,login:null,isFetching:!1,isAuth:!1,photo:null},me=function(e,t,n,A){return{type:pe,payload:{id:e,login:t,email:n,isAuth:A}}},ve=function(e){return{type:Oe,isFetching:e}},we=function(e){return{type:ze,photo:e}},Pe=function(){return function(e){return e(ve(!0)),E.a.me().then((function(t){if(e(ve(!1)),0===t.resultCode){var n=t.data,A=n.id,r=n.login,i=n.email;e(me(A,r,i,!0)),E.a.getProfilePhoto(A).then((function(t){null===t.photos.small?e(we("https://media.istockphoto.com/photos/businessman-silhouette-as-avatar-or-default-profile-picture-picture-id476085198?k=20&m=476085198&s=612x612&w=0&h=8J3VgOZab_OiYoIuZfiMIvucFYB8vWYlKnSjKuKeYQM=")):e(we(t.photos.small))}))}}))}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(S.a)(Object(S.a)(Object(S.a)({},e),t.payload),{},{isAuth:t.payload.isAuth});case Oe:return Object(S.a)(Object(S.a)({},e),{},{isFetching:t.isFetching});case ze:return Object(S.a)(Object(S.a)({},e),{},{photo:t.photo});default:return e}},Be=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(b.jsx)(he,Object(S.a)({},this.props))}}]),n}(r.a.Component),Se=Object(m.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth,id:e.auth.id,photo:e.auth.photo}}),{toggleIsFetching:ve,logout:function(){return function(e){E.a.logout().then((function(t){0===t.resultCode&&e(me(null,null,null,!1))}))}}})(Be),Ee=n(126),ye=n(127),Qe=n(75),De=n(65),Ie=n(50),Ne=n.n(Ie),ke=Object(ye.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("div",{children:Object(b.jsx)(Ee.a,{placeholder:"Email",name:"email",component:De.a,validate:[Qe.b]})}),Object(b.jsx)("div",{children:Object(b.jsx)(Ee.a,{placeholder:"Password",name:"password",component:De.a,validate:[Qe.b]})}),Object(b.jsx)("div",{children:Object(b.jsx)(Ee.a,{placeholder:"Remember me",type:"checkbox",component:De.a,name:"rememberMe"})}),n&&Object(b.jsx)("div",{className:Ne.a.formSummaryError,children:n}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Login"})})]})})),Re=Object(m.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(A){E.a.login(e,t,n).then((function(e){if(0===e.resultCode)A(Pe());else{var t=e.messages.length>0?e.messages[0]:"Some Error";A(Object(ge.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Object(b.jsx)(v.a,{to:"/profile"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)(ke,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),He="INITIALIZED_SUCCESS",Fe={initialiazed:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;return t.type===He?Object(S.a)(Object(S.a)({},e),{},{initialiazed:!0}):e},Me=n(10),Ve=n(125),Ue=[{id:1,img:"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",name:"John"},{id:2,img:"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",name:"Ernest"},{id:3,img:"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png",name:"Calvin"}],Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return e},Je=n(95),Ye={path:["/profile","/dialogs","/news","/music","/settings","/friends"]},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return e},Ze=n(137),Ge=n(129),We=Object(Me.c)({profilePage:Je.b,dialogsPage:Ve.a,sidebar:qe,friendList:Le,usersPage:J,auth:Ce,app:Te,form:Ge.a}),Xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Me.d,_e=Object(Me.e)(We,Xe(Object(Me.a)(Ze.a)));window.__store__=_e;var Ke=_e,$e=r.a.lazy((function(){return n.e(4).then(n.bind(null,305))})),et=r.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),tt=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return console.log(this.props.initialiazed),this.props.initialiazed?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(Se,{}),Object(b.jsx)(p,{friendList:this.props.state.friendList}),Object(b.jsx)("div",{className:"app-wrapper-content",children:Object(b.jsxs)(A.Suspense,{fallback:Object(b.jsx)("div",{children:"Loading..."}),children:[Object(b.jsx)(v.b,{path:this.props.state.sidebar.path[0]+"/:userId?",render:function(){return Object(b.jsx)(et,{})}}),Object(b.jsx)(v.b,{path:this.props.state.sidebar.path[1],render:function(){return Object(b.jsx)($e,{})}}),Object(b.jsx)(v.b,{path:this.props.state.sidebar.path[2],render:function(){return Object(b.jsx)(O,{})}}),Object(b.jsx)(v.b,{path:this.props.state.sidebar.path[3],render:function(){return Object(b.jsx)(z,{})}}),Object(b.jsx)(v.b,{path:this.props.state.sidebar.path[4],render:function(){return Object(b.jsx)(x,{})}}),Object(b.jsx)(v.b,{path:"/users",render:function(){return Object(b.jsx)(je,{})}}),Object(b.jsx)(v.b,{path:"/login",render:function(){return Object(b.jsx)(Re,{})}})]})})]}):Object(b.jsx)(K.a,{})}}]),n}(r.a.Component),nt=Object(Me.d)(v.f,Object(m.b)((function(e){return{initialiazed:e.app.initialiazed}}),{initializeApp:function(){return function(e){var t=e(Pe());Promise.all([t]).then((function(){return e({type:He})}))}}}))(tt),At=function(){return Object(b.jsx)(l.a,{children:Object(b.jsx)(m.a,{store:Ke,children:Object(b.jsx)(nt,{state:Ke.getState()})})})};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(At,{})}),document.getElementById("root"))},50:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummaryError:"FormsControls_formSummaryError__1F2-S"}},65:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var A=n(3),r=n(53),i=(n(0),n(50)),s=n.n(i),a=n(1),c=["input","meta","child"],o=["input","meta","child"],u=function(e){var t=e.meta.error&&e.meta.touched;return Object(a.jsxs)("div",{className:s.a.formControl+" "+(t?s.a.error:""),children:[Object(a.jsx)("div",{children:e.children}),t&&Object(a.jsx)("span",{children:e.meta.error})]})},l=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,c));return Object(a.jsx)(u,Object(A.a)(Object(A.a)({},e),{},{children:Object(a.jsx)("textarea",Object(A.a)(Object(A.a)({},t),n))}))},d=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,o));return Object(a.jsx)(u,Object(A.a)(Object(A.a)({},e),{},{children:Object(a.jsx)("input",Object(A.a)(Object(A.a)({},t),n))}))}},67:function(e,t,n){"use strict";n(0);var A=n.p+"static/media/Rocket.9dd581ae.gif",r=n(1);t.a=function(e){return Object(r.jsx)("div",{style:{backgroundColor:"white"},children:Object(r.jsx)("img",{src:A})})}},71:function(e,t,n){e.exports={paginator:"Paginator_paginator__18P4_",pageNumber:"Paginator_pageNumber__xOsKi",selectedPage:"Paginator_selectedPage__3SIki"}},75:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return r}));var A=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},90:function(e,t,n){e.exports={friends:"Friends_friends__16O_z",friendItem:"Friends_friendItem__33jed",friendList:"Friends_friendList__1TwgQ"}},92:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return p}));var A=n(24),r=n.n(A),i=n(41),s=n(40),a=n(3),c=n(14),o="ADD-POST",u="SET_USER_PROFILE",l="SET_STATUS",d="DELETE_POST",j={posts:[{id:1,message:"Hi, how are you?",likesCount:19},{id:2,message:"It's my first post",likesCount:20},{id:3,message:"Facebook is dead?",likesCount:-129},{id:4,message:"Yes",likesCount:200}],profile:null,status:""},b=function(e){return{type:o,newPostText:e}},f=function(e){return{type:l,status:e}},h=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var A;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.getProfile(e);case 2:A=t.sent,n({type:u,profile:A});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(t){c.b.getStatus(e).then((function(e){t(f(e.data))}))}},p=function(e){return function(t){c.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(f(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(a.a)(Object(a.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[{id:5,message:t.newPostText,likesCount:0}])});case d:return Object(a.a)(Object(a.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case u:return Object(a.a)(Object(a.a)({},e),{},{profile:t.profile});case l:return Object(a.a)(Object(a.a)({},e),{},{status:t.status});default:return e}}}},[[298,1,2]]]);
//# sourceMappingURL=main.d03b9a03.chunk.js.map